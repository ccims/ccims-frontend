query GetIssueGraphData($projectId: ID!) {
  node(id: $projectId) {
    ... on Project {
      components {
        nodes {
          id
          bugs: issuesOnLocation(filterBy: { category: BUG }) {
            totalCount
          }
          featureRequests: issuesOnLocation(
            filterBy: { category: FEATURE_REQUEST }
          ) {
            totalCount
          }
          unclassified: issuesOnLocation(filterBy: { category: UNCLASSIFIED }) {
            totalCount
          }
        }
      }
      interfaces {
        nodes {
          id
          bugs: issuesOnLocation(filterBy: { category: BUG }) {
            totalCount
          }
          featureRequests: issuesOnLocation(
            filterBy: { category: FEATURE_REQUEST }
          ) {
            totalCount
          }
          unclassified: issuesOnLocation(filterBy: { category: UNCLASSIFIED }) {
            totalCount
          }
          consumedBy {
            nodes {
              id
            }
          }
        }
      }
      linkingIssues: issues(
        filterBy: {
          linksIssues: true
          # here you can add all the other filters you want to
        }
      ) {
        nodes {
          id
          category
          locations {
            nodes {
              id
            }
          }
          linksToIssues {
            nodes {
              id
              category
              locations {
                nodes {
                  id
                }
              }
            }
          }
        }
      }
    }
  }
}
